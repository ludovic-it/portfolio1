/* Scroll Reveal Animations - Enhanced */
.reveal {
    opacity: 0;
    visibility: visible;
    will-change: transform, opacity, filter;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
}

.reveal.revealed {
    visibility: visible;
    /* L'opacité sera gérée UNIQUEMENT par les animations CSS, jamais par défaut */
    opacity: 0;
}

/* Pour les éléments sans animation CSS spécifique, utiliser transition */
.reveal.revealed:not([data-reveal]):not([data-reveal="blur"]):not([data-reveal="scale"]):not([data-reveal="rotate"]):not([data-reveal="scale-rotate"]):not([data-reveal="bounce"]):not([data-reveal="elastic"]) {
    transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1),
        transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 1 !important;
}

/* Stagger delay classes */
.reveal[data-reveal-stagger] {
    transition-delay: calc(var(--stagger-delay, 0) * 0.1s);
}

/* Blur fade-in animation */
@keyframes fadeInBlur {
    0% {
        opacity: 0;
        filter: blur(10px);
        transform: translateY(30px) scale(0.95);
    }

    100% {
        opacity: 1;
        filter: blur(0);
        transform: translateY(0) scale(1);
    }
}

.reveal[data-reveal="blur"].revealed {
    opacity: 0;
    animation: fadeInBlur 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Scale animation */
@keyframes scaleIn {
    0% {
        opacity: 0;
        transform: scale(0.7) translateY(40px);
    }

    60% {
        transform: scale(1.05) translateY(-5px);
    }

    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.reveal[data-reveal="scale"].revealed {
    opacity: 0;
    animation: scaleIn 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Rotation animation */
@keyframes rotateIn {
    0% {
        opacity: 0;
        transform: rotate(-10deg) scale(0.9) translateY(50px);
    }

    100% {
        opacity: 1;
        transform: rotate(0deg) scale(1) translateY(0);
    }
}

.reveal[data-reveal="rotate"].revealed {
    opacity: 0;
    animation: rotateIn 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Combined scale + rotation */
@keyframes scaleRotateIn {
    0% {
        opacity: 0;
        transform: scale(0.5) rotate(-15deg);
        filter: blur(5px);
    }

    60% {
        transform: scale(1.1) rotate(2deg);
    }

    100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
        filter: blur(0);
    }
}

.reveal[data-reveal="scale-rotate"].revealed {
    opacity: 0;
    animation: scaleRotateIn 0.9s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Additional animation keyframes */
@keyframes bounceIn {
    0% {
        opacity: 0;
        transform: translateY(100px) scale(0.3);
    }

    50% {
        transform: translateY(-20px) scale(1.05);
    }

    70% {
        transform: translateY(10px) scale(0.95);
    }

    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes elasticIn {
    0% {
        opacity: 0;
        transform: scale(0.3) translateY(80px);
    }

    50% {
        transform: scale(1.1) translateY(-10px);
    }

    70% {
        transform: scale(0.95) translateY(5px);
    }

    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.reveal[data-reveal="bounce"].revealed {
    opacity: 0;
    animation: bounceIn 0.8s ease-out forwards;
}

.reveal[data-reveal="elastic"].revealed {
    opacity: 0;
    animation: elasticIn 0.9s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
    .reveal {
        opacity: 1;
        transform: none;
        transition: none;
        visibility: visible;
    }

    .reveal.revealed {
        animation: none !important;
    }
}